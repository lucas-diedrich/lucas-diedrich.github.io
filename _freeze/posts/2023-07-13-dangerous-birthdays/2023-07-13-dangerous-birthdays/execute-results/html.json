{
  "hash": "11f70961de310cd5281c89dd8b64d1a4",
  "result": {
    "markdown": "---\ntitle: \"Your birthday might kill you!\"\ndate: 2023-07-14\n---\n\nI recently attended a very enjoyable open-air performance of Shakespear's *Macbeth*. Given my limited knowledge about the piece and English literature in general, I did the thing that most of the peers in my generation would do and I read the [Wikipedia page on William Shakespeare](https://en.wikipedia.org/wiki/William_Shakespeare) in advance. Unfortunately, I did not get past the first paragraph as it immediately caught my eye that Shakespeare **died on his birthday**. Very tragic![^1]\n\n[^1]: And maybe also somewhat fitting for a person who almost exclusively wrote about tragedy and death\n\n\nBut is it though? After thinking about it for a while, I came to the (for me) surprising conclusion that we might be statistically prone to die on our birthday... In this post, I will share with you my finding that in a model world, the most probable day of your death will be your birthday. So watch out!\n\n\n## Modeling \n\nDon't believe me? Let's start with a simulation. \n\n### Prior assumptions \n\nIn order to facilitate the computations, I will first create a model simpliefied model world with the following assumptions/simplifications: \n\n1. For every day in your life, it is equally likely for you to die. \n\nThis assumption is clearly not accurate (for humans). For example, infants or people above age 50 have a significantly higher chance of death than people in their twenties (see the official [actuarial life table](https://www.ssa.gov/oact/STATS/table4c6.html) of the US social security office). However, it is probably relatively safe to assume that the likelihood to die is more or less **smooth** and **changing slowly**, i.e. we would not expect any sudden changes in the likelihood of death within a an age cohort. As we will essentially compare the likelihood of death per day within the same year, our model is still valid. We also dismiss any seasonal changes (e.g. heat deaths in the summer or flu in the winter) that might affect the results. \n\n2. Planet MB-15640423\n\nIn order to make the observed trends more significant, I will assume for now that we observe life on a planet with very short year of only 10 days. However, the observed trends will also hold true for any other length of the year, but might not be as obvious to see.  \nTo further simplify the computations, we also assume that our planet does not have any leap years.\n\n\n### The model \nBased on these assumptions, we can create a simple simulation: We first define a function `life` that simulates the life of a single individual: For every day, the individual either survives or dies with a 5% probability $p_{death}=0.05$. The function `life` runs until it reaches the day of death of the individual and then returns the number of days that the person survived (`days_lived`). We repeat that for a few thousand simulations (*individuals*) to get enough sampling. \n\nWe can figure out whether the individual died on their birthday or not by using the remainder (modulo operation) of the division $\\frac{\\text{days lived}}{\\text{length of year}}$. E.g. if a person died on their birtday, they survived 0, 10, 20, 30, 40... days model world. When dividing by the length of the year the remainder will always be zero (Mathematically speaking: $y\\times \\text{length of year} \\equiv 0 \\:\\text{mod}\\:\\text{length of year}$ for $y \\in \\mathbb{N}^0$). If a person dies one day after their birthday, the fraction $\\frac{\\text{days lived}}{\\text{length of year}}$ will have the remainder 1 and so on...\n\nImplementing this model in python (see hidden code cells) and plotting the results looks like this: \n\n::: {.cell execution_count=1}\n``` {.python .cell-code code-fold=\"true\"}\n# Import modules\nimport numpy as np \nimport matplotlib.pyplot as plt\n\n\n# Parameters\nnp.random.seed = 15640423\n\nplot_params = dict(\n    marker='o', \n    linestyle='', \n    color='#45B39D', \n    markeredgecolor='k'\n)\n\nN_individuals = 10000\nlength_of_year = 10\nprobability_of_death = 0.05\n```\n:::\n\n\n::: {.cell execution_count=2}\n``` {.python .cell-code code-fold=\"true\"}\ndef life(probability_of_death: float = 0.05):\n    \"\"\" Simulate length of a life given a constant \n    probability of death every day \"\"\" \n    \n    days_lived = 0\n    while np.random.random() > probability_of_death: \n        days_lived += 1\n    return days_lived \n\n\n# Simulate N_individuals lives \ndays_lived = [life(probability_of_death) for _ in range(N_individuals)]\n\n# Get day of year (0-birthday, 1-day after birthday ...)\nday_of_year = [dl % length_of_year for dl in days_lived]\n\nday, counts = np.unique(day_of_year, return_counts=True)\n\nrel_to_expected = counts/np.sum(counts)\n\nfig, ax = plt.subplots(1,1, figsize=(7,4))\nax.plot(day, rel_to_expected, **plot_params)\n\nax.axhline(1/length_of_year, 0, 1, \n           color='#cccccc', \n           label='Expected by equal chance')\nax.set_ylabel('Observed deaths/Expected deaths')\nax.set_xlabel(f'Day relative to birthday in {length_of_year}-day year')\n\nax.annotate('Birthday', xy=(0, rel_to_expected[0]), xytext=(5,0), xycoords='data', textcoords='offset points', va='center', ha='left')\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![Observed number of deaths at a day X after birthday divided by the expected number of deaths if we assume that it is equally likely for a person to die on any day of the year.](2023-07-13-dangerous-birthdays_files/figure-html/cell-3-output-1.png){width=597 height=356}\n:::\n:::\n\n\nWhat we see is that *in our simulation/toy example*, it is almost 30% more likely for an individual to die on their birthday than we would expect by random chance. Furthermore, the likelihood to die on day 1, 2, 3, ... after ones birthday steadily decreases. But why?\n\n## Intuition \n\nThe underlying concept is straightforward. On our birthday, we inevitably face an equal or greater likelihood of mortality compared to any other day. To elaborate, consider a scenario in which we analyze the lives of a whole population of individuals, as we did in our simulation. While most individuals would survive their actual birth date, regrettably, there exists a nonzero probability that someone might pass away precisely on that day, thereby decreasing the total population. Consequently, when the probability of death remains constant, fewer individuals, on average, will add to the count of deaths on the day following their birthday, and so forth.\nAs the birthday will always be the first day in every new year, there will always be *more* individuals available at their birthday than any other day. This leads to the fact that in a full population, more deaths would occur on birthdays than any other day. \n\n## Quick maths\nWe can also derive an analytical solution for this problem. Given the probability $x$ to die on a certain day, the probability of survival on a certain day can be written as counter-probability: \n\n\\begin{equation}\n    P(X: \\text{survival on one day}) = 1 - x\n\\end{equation}\n\nAssuming independence of events, the probability to die on the $n$th day of your life will be the product of probabilities to survive for $n-1$ days times the probability to die on day $n$: \n\n\\begin{equation}\n    P(Y: \\text{death on day n}) = (1 - x)^{n-1}\\cdot x\n\\end{equation}\n\nCorresponding to an exponential decay. Now we know the probability to die on any day and can derive a formula to die on a birthday: For every year 0, 1 ... $\\infty$, we will just add up the probability to die on the day corresponding to your birthday. So we need to add up the probabilities to die on day 0, day $1\\times \\text{length of year}$, day $2\\times \\text{length of year}$, day $3\\times \\text{length of year}$, ...\n\nThis leads to the formula \n\n\\begin{equation}\n    P(\\text{death on birthday}) = \\sum_{y=0}^{\\infty}{(1 - x)^{(\\text{length of year}\\times y-1)}\\cdot x}\n\\end{equation}\n\nGeneralizing this to any day $0\\leq d \\leq \\text{length of the year}-1$ after ones birthday in the year: \n\n\\begin{equation}\n    P(d) = \\sum_{y=0}^{\\infty}{(1 - x)^{(\\text{length of year}\\times y+d-1)}\\cdot x} \n\\end{equation}\n\nTaking constant terms out of the sum: \n\n\\begin{equation}\n    P(d) = x\\cdot (1-x)^{(d-1)}\\cdot \\sum_{y=0}^{\\infty}{(1 - x)^{(\\text{length of year}\\times y)}} \n\\end{equation}\n\n\nAnd using the definition of the geometric series for $1-x<1$: \n\n\\begin{equation}\n    P(d) =  x\\cdot (1-x)^{(d-1)}\\cdot \\frac{1}{x} = (1-x)^{(d-1)}\n\\end{equation}\n\nThis means that for any day after your birthday decays exponentially. \n\n<!-- Missing - normalization -->\n\n::: {.cell execution_count=3}\n``` {.python .cell-code code-fold=\"true\"}\nday_after_bday = np.linspace(0, length_of_year, 100)\npdeath = np.power(1-probability_of_death, day_after_bday)\n\nfig, ax = plt.subplots(1,1, figsize=(7,5))\nax.plot(day_after_bday, pdeath, marker='', linestyle='-')\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](2023-07-13-dangerous-birthdays_files/figure-html/cell-4-output-1.png){width=579 height=411}\n:::\n:::\n\n\n## The real world \n\n[Birthday effect](https://en.wikipedia.org/wiki/Birthday_effect)\n\n\n## Conclusion \n\nIn this blog post we have looked at the somewhat surprising phenomenom that we are probably more likely to die on our birthday than any other day. \n\nI believe that the provided workflow can also be adapted for other scientific endevaours and especially computationally approaches: First, we observed an interesting phenomenom. We then started to build up an intuition for the problem by creating a model world, in which we tried to clearly articulate the underlying assumptions of our model. And finally, when we felt more comfortable with our intuition, we put in the effort and derived a more theoretically grounded model. \n\n",
    "supporting": [
      "2023-07-13-dangerous-birthdays_files"
    ],
    "filters": [],
    "includes": {}
  }
}